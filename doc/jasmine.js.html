<!DOCTYPE html>
<html>
<head>
  <title>jasmine.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "", thisFile = "jasmine.js", defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>jasmine.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">isCommonJS</span> <span class="o">=</span> <span class="k">typeof</span> <span class="nb">window</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">exports</span> <span class="o">==</span> <span class="s2">&quot;object&quot;</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Top level namespace for Jasmine, a lightweight JavaScript BDD/spec/testing framework.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">jasmine</span> <span class="o">=</span> <span class="p">{};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">jasmine</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">unimplementedMethod_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;unimplemented method&quot;</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Use <code>jasmine.undefined</code> instead of <code>undefined</code>, since <code>undefined</code> is just
a plain old variable and may be redefined by somebody else.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">___undefined___</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Show diagnostic messages in the console if set to true</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">VERBOSE</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Default interval in milliseconds for event loop yields (e.g. to allow network activity or to refresh the screen with the HTML-based runner). Small values here may result in slow test running. Zero means no updates until all tests have completed.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">DEFAULT_UPDATE_INTERVAL</span> <span class="o">=</span> <span class="mi">250</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Maximum levels of nesting that will be included when an object is pretty-printed</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">MAX_PRETTY_PRINT_DEPTH</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Default timeout interval in milliseconds for waitsFor() blocks.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">DEFAULT_TIMEOUT_INTERVAL</span> <span class="o">=</span> <span class="mi">5000</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>By default exceptions thrown in the context of a test are caught by jasmine so that it can run the remaining tests in the suite.
Set to false to let the exception bubble up in the browser.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">CATCH_EXCEPTIONS</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">getGlobal</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">getGlobal</span><span class="p">();</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Allows for bound functions to be compared.  Internal use only.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">base</span>
      <span>{Object} bound 'this' for the function</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">name</span>
      <span>{Function} function to find</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">bindOriginal_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">base</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">original</span> <span class="o">=</span> <span class="nx">base</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">original</span><span class="p">.</span><span class="nx">apply</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">original</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">base</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11">&#182;</a>
</div>
<p>IE support</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">()[</span><span class="nx">name</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">setTimeout</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">bindOriginal_</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">(),</span> <span class="s1">&#39;setTimeout&#39;</span><span class="p">);</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">clearTimeout</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">bindOriginal_</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">(),</span> <span class="s1">&#39;clearTimeout&#39;</span><span class="p">);</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">setInterval</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">bindOriginal_</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">(),</span> <span class="s1">&#39;setInterval&#39;</span><span class="p">);</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">clearInterval</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">bindOriginal_</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">(),</span> <span class="s1">&#39;clearInterval&#39;</span><span class="p">);</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">MessageResult</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;log&#39;</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">values</span> <span class="o">=</span> <span class="nx">values</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">trace</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">();</span> <span class="c1">// todo: test better</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">MessageResult</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">text</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isString_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">]))</span> <span class="p">{</span>
      <span class="nx">text</span> <span class="o">+=</span> <span class="k">this</span><span class="p">.</span><span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">text</span> <span class="o">+=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">values</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">text</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">ExpectationResult</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;expect&#39;</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">matcherName</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">matcherName</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">passed_</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">passed</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">expected</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">expected</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">=</span> <span class="nx">params</span><span class="p">.</span><span class="nx">actual</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">passed_</span> <span class="o">?</span> <span class="s1">&#39;Passed.&#39;</span> <span class="o">:</span> <span class="nx">params</span><span class="p">.</span><span class="nx">message</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">trace</span> <span class="o">=</span> <span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">trace</span> <span class="o">||</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">message</span><span class="p">));</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">trace</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">passed_</span> <span class="o">?</span> <span class="s1">&#39;&#39;</span> <span class="o">:</span> <span class="nx">trace</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">ExpectationResult</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">message</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">ExpectationResult</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">passed</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">passed_</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Getter for the Jasmine environment. Ensures one gets created</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">env</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">currentEnv_</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">currentEnv_</span> <span class="o">||</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">();</span>
  <span class="k">return</span> <span class="nx">env</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">value</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">isA_</span><span class="p">(</span><span class="s2">&quot;Array&quot;</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">value</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">isString_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">isA_</span><span class="p">(</span><span class="s2">&quot;String&quot;</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">value</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">isNumber_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">isA_</span><span class="p">(</span><span class="s2">&quot;Number&quot;</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">typeName</span>
      <span class="dox_type">String</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">value</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">isA_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">typeName</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object &#39;</span> <span class="o">+</span> <span class="nx">typeName</span> <span class="o">+</span> <span class="s1">&#39;]&#39;</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Pretty printer for expecations.  Takes any object and turns it into a human-readable string.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">value</span>
      <span>{Object} an object to be outputted</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">stringPrettyPrinter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">StringPrettyPrinter</span><span class="p">();</span>
  <span class="nx">stringPrettyPrinter</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">stringPrettyPrinter</span><span class="p">.</span><span class="nx">string</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Returns true if the object is a DOM Node.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">obj</span>
      <span class="dox_type">Object</span>
      <span>object to check</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">isDomNode</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Returns a matchable 'generic' object of the class type.  For use in expecations of type when values don't matter.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">clazz</span>
      <span class="dox_type">Class</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">any</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">clazz</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">Any</span><span class="p">(</span><span class="nx">clazz</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Returns a matchable subset of a JSON object. For use in expectations when you don't care about all of the
attributes on the object.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">sample</span>
      <span>{Object} sample</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">objectContaining</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sample</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">ObjectContaining</span><span class="p">(</span><span class="nx">sample</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Jasmine Spies are test doubles that can act as stubs, spies, fakes or when used in an expecation, mocks.</p>
  </div>
  <div class="body"><p>Spies should be created in test setup, before expectations.  They can then be checked, using the standard Jasmine
expectation syntax. Spies can be checked if they were called or not and what the calling params were.</p>

<p>A Spy has the following fields: wasCalled, callCount, mostRecentCall, and argsForCall (see docs).</p>

<p>Spies are torn down at the end of every spec.</p>

<p>Note: Do <b>not</b> call new jasmine.Spy() directly - a spy must be created using spyOn, jasmine.createSpy or jasmine.createSpyObj.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">spyOn, jasmine.createSpy, jasmine.createSpyObj</span>
    </div>
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">name
</span>
      <span class="dox_type">String</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>The name of the spy, if provided.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">identity</span> <span class="o">=</span> <span class="nx">name</span> <span class="o">||</span> <span class="s1">&#39;unknown&#39;</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Is this Object a spy?</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">isSpy</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>The actual function this spy stubs.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">plan</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">};</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Tracking of the most recent call to the spy.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">mostRecentCall</span> <span class="o">=</span> <span class="p">{};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Holds arguments for each call to the spy, indexed by call count</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">argsForCall</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">calls</span> <span class="o">=</span> <span class="p">[];</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Tells a spy to call through to the actual implemenatation.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spy</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">andCallThrough</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">plan</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">originalValue</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>For setting the return value of a spy.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">value
</span>
      <span class="dox_type">Object</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spy</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">andReturn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">plan</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>For throwing an exception when a spy is called.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">exceptionMsg
</span>
      <span class="dox_type">String</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spy</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">andThrow</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">exceptionMsg</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">plan</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="nx">exceptionMsg</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Calls an alternate implementation when a spy is called.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">fakeFunc
</span>
      <span class="dox_type">Function</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spy</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">andCallFake</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">fakeFunc</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">plan</span> <span class="o">=</span> <span class="nx">fakeFunc</span><span class="p">;</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Resets all of a spy's the tracking variables so that it can be used again.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spy</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reset</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">wasCalled</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">callCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">argsForCall</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">calls</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">mostRecentCall</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>

  <span class="kd">var</span> <span class="nx">spyObj</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">spyObj</span><span class="p">.</span><span class="nx">wasCalled</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">spyObj</span><span class="p">.</span><span class="nx">callCount</span><span class="o">++</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">argsToArray</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
    <span class="nx">spyObj</span><span class="p">.</span><span class="nx">mostRecentCall</span><span class="p">.</span><span class="nx">object</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="nx">spyObj</span><span class="p">.</span><span class="nx">mostRecentCall</span><span class="p">.</span><span class="nx">args</span> <span class="o">=</span> <span class="nx">args</span><span class="p">;</span>
    <span class="nx">spyObj</span><span class="p">.</span><span class="nx">argsForCall</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">args</span><span class="p">);</span>
    <span class="nx">spyObj</span><span class="p">.</span><span class="nx">calls</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">object</span><span class="o">:</span> <span class="k">this</span><span class="p">,</span> <span class="nx">args</span><span class="o">:</span> <span class="nx">args</span><span class="p">});</span>
    <span class="k">return</span> <span class="nx">spyObj</span><span class="p">.</span><span class="nx">plan</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">spy</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spy</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">prop</span> <span class="k">in</span> <span class="nx">spy</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">spyObj</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">spy</span><span class="p">[</span><span class="nx">prop</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="nx">spyObj</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>

  <span class="k">return</span> <span class="nx">spyObj</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Determines whether an object is a spy.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">putativeSpy</span>
      <span class="dox_type">jasmine.Spy</span>
      <span class="dox_type">Object</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">isSpy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">putativeSpy</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">putativeSpy</span> <span class="o">&amp;&amp;</span> <span class="nx">putativeSpy</span><span class="p">.</span><span class="nx">isSpy</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Creates a more complicated spy: an Object that has every property a function that is a spy.  Used for stubbing something
large in one call.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">baseName</span>
      <span class="dox_type">String</span>
      <span>name of spy class</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">methodNames</span>
      <span class="dox_type">Array</span>
      <span>array of names of methods to make spies</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpyObj</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">baseName</span><span class="p">,</span> <span class="nx">methodNames</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span><span class="p">(</span><span class="nx">methodNames</span><span class="p">)</span> <span class="o">||</span> <span class="nx">methodNames</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;createSpyObj requires a non-empty array of method names to create spies for&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">methodNames</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">obj</span><span class="p">[</span><span class="nx">methodNames</span><span class="p">[</span><span class="nx">i</span><span class="p">]]</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="nx">baseName</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span> <span class="o">+</span> <span class="nx">methodNames</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">obj</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>All parameters are pretty-printed and concatenated together, then written to the current spec's output.</p>
  </div>
  <div class="body"><p>Be careful not to leave calls to <code>jasmine.log</code> in production code.</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">log</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">currentSpec</span><span class="p">;</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">log</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">spec</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Function that installs a spy on an existing object's method name.  Used within a Spec to create a spy.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">See</div>
    <div class="dox_tag_detail">
      <span class="dox_type">jasmine.createSpy</span>
    </div>
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">obj</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">methodName</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">jasmine.Spy</span>
      <span>a Jasmine spy that can be chained with all spy methods</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">spyOn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">methodName</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">currentSpec</span><span class="p">.</span><span class="nx">spyOn</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">methodName</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">spyOn</span> <span class="o">=</span> <span class="nx">spyOn</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Creates a Jasmine spec that will be added to the current suite.</p>
  </div>
  <div class="body"><p>// TODO: pending tests</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">desc</span>
      <span class="dox_type">String</span>
      <span>description of this specification</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">func</span>
      <span class="dox_type">Function</span>
      <span>defines the preconditions and expectations of the spec</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">it</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">desc</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">it</span><span class="p">(</span><span class="nx">desc</span><span class="p">,</span> <span class="nx">func</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">it</span> <span class="o">=</span> <span class="nx">it</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Creates a <em>disabled</em> Jasmine spec.</p>
  </div>
  <div class="body"><p>A convenience method that allows existing specs to be disabled temporarily during development.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">desc</span>
      <span class="dox_type">String</span>
      <span>description of this specification</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">func</span>
      <span class="dox_type">Function</span>
      <span>defines the preconditions and expectations of the spec</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">xit</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">desc</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">xit</span><span class="p">(</span><span class="nx">desc</span><span class="p">,</span> <span class="nx">func</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">xit</span> <span class="o">=</span> <span class="nx">xit</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Starts a chain for a Jasmine expectation.</p>
  </div>
  <div class="body"><p>It is passed an Object that is the actual value and should chain to one of the many
jasmine.Matchers functions.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">actual</span>
      <span class="dox_type">Object</span>
      <span>Actual value to test against and expected value</span>
    </div>
    <div class="dox_tag_title">Returns</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name"></span>
      <span class="dox_type">jasmine.Matchers
</span>
      <span>{jasmine.Matchers}</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">expect</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actual</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">currentSpec</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">expect</span> <span class="o">=</span> <span class="nx">expect</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Defines part of a jasmine spec.  Used in cominbination with waits or waitsFor in asynchrnous specs.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">func</span>
      <span class="dox_type">Function</span>
      <span>Function that defines part of a jasmine spec.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">runs</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">currentSpec</span><span class="p">.</span><span class="nx">runs</span><span class="p">(</span><span class="nx">func</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">runs</span> <span class="o">=</span> <span class="nx">runs</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Waits a fixed time period before moving to the next block.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">timeout</span>
      <span class="dox_type">Number</span>
      <span>milliseconds to wait</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">waits</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">currentSpec</span><span class="p">.</span><span class="nx">waits</span><span class="p">(</span><span class="nx">timeout</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">waits</span> <span class="o">=</span> <span class="nx">waits</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Waits for the latchFunction to return true before proceeding to the next block.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">latchFunction</span>
      <span class="dox_type">Function</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">optional_timeoutMessage</span>
      <span class="dox_type">String</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">optional_timeout
</span>
      <span class="dox_type">Number</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">waitsFor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">latchFunction</span><span class="p">,</span> <span class="nx">optional_timeoutMessage</span><span class="p">,</span> <span class="nx">optional_timeout</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">currentSpec</span><span class="p">.</span><span class="nx">waitsFor</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">currentSpec</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">waitsFor</span> <span class="o">=</span> <span class="nx">waitsFor</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>A function that is called before each spec in a suite.</p>
  </div>
  <div class="body"><p>Used for spec setup, including validating assumptions.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">beforeEachFunction
</span>
      <span class="dox_type">Function</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">beforeEach</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">beforeEachFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">beforeEach</span><span class="p">(</span><span class="nx">beforeEachFunction</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">beforeEach</span> <span class="o">=</span> <span class="nx">beforeEach</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>A function that is called after each spec in a suite.</p>
  </div>
  <div class="body"><p>Used for restoring any state that is hijacked during spec execution.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">afterEachFunction
</span>
      <span class="dox_type">Function</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">afterEach</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">afterEachFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">afterEach</span><span class="p">(</span><span class="nx">afterEachFunction</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">afterEach</span> <span class="o">=</span> <span class="nx">afterEach</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Defines a suite of specifications.</p>
  </div>
  <div class="body"><p>Stores the description and all defined specs in the Jasmine environment as one suite of specs. Variables declared
are accessible by calls to beforeEach, it, and afterEach. Describe blocks can be nested, allowing for specialization
of setup in some tests.</p>
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">description</span>
      <span class="dox_type">String</span>
      <span>A string, usually the class under test.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">specDefinitions</span>
      <span class="dox_type">Function</span>
      <span>function that defines several specs.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">describe</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span> <span class="nx">specDefinitions</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">describe</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span> <span class="nx">specDefinitions</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">describe</span> <span class="o">=</span> <span class="nx">describe</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Disables a suite of specifications.  Used to disable some suites in a file, or files, temporarily during development.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">description</span>
      <span class="dox_type">String</span>
      <span>A string, usually the class under test.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">specDefinitions</span>
      <span class="dox_type">Function</span>
      <span>function that defines several specs.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="kd">var</span> <span class="nx">xdescribe</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span> <span class="nx">specDefinitions</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">xdescribe</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span> <span class="nx">specDefinitions</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">isCommonJS</span><span class="p">)</span> <span class="nx">exports</span><span class="p">.</span><span class="nx">xdescribe</span> <span class="o">=</span> <span class="nx">xdescribe</span><span class="p">;</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46">&#182;</a>
</div>
<p>Provide the XMLHttpRequest class for IE 5.x-6.x:</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">XmlHttpRequest</span> <span class="o">=</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">XMLHttpRequest</span> <span class="o">==</span> <span class="s2">&quot;undefined&quot;</span><span class="p">)</span> <span class="o">?</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">function</span> <span class="nx">tryIt</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">f</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="nx">tryIt</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;Msxml2.XMLHTTP.6.0&quot;</span><span class="p">);</span>
  <span class="p">})</span> <span class="o">||</span>
    <span class="nx">tryIt</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;Msxml2.XMLHTTP.3.0&quot;</span><span class="p">);</span>
    <span class="p">})</span> <span class="o">||</span>
    <span class="nx">tryIt</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;Msxml2.XMLHTTP&quot;</span><span class="p">);</span>
    <span class="p">})</span> <span class="o">||</span>
    <span class="nx">tryIt</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;Microsoft.XMLHTTP&quot;</span><span class="p">);</span>
    <span class="p">});</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">xhr</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;This browser does not support XMLHttpRequest.&quot;</span><span class="p">);</span>

  <span class="k">return</span> <span class="nx">xhr</span><span class="p">;</span>
<span class="p">}</span> <span class="o">:</span> <span class="nx">XMLHttpRequest</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span> <span class="o">=</span> <span class="p">{};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Declare that a child class inherit it's prototype from the parent class.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">childClass</span>
      <span class="dox_type">Function</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">parentClass
</span>
      <span class="dox_type">Function</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">inherit</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">childClass</span><span class="p">,</span> <span class="nx">parentClass</span><span class="p">)</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="kd">var</span> <span class="nx">subclass</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">};</span>
  <span class="nx">subclass</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">parentClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">;</span>
  <span class="nx">childClass</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">subclass</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">formatException</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">lineNumber</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">line</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">lineNumber</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">line</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">lineNumber</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">lineNumber</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">lineNumber</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">file</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">sourceURL</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">file</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">sourceURL</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">fileName</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">file</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">fileName</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">name</span> <span class="o">&amp;&amp;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">)</span> <span class="o">?</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">message</span><span class="p">)</span> <span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">file</span> <span class="o">&amp;&amp;</span> <span class="nx">lineNumber</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">message</span> <span class="o">+=</span> <span class="s1">&#39; in &#39;</span> <span class="o">+</span> <span class="nx">file</span> <span class="o">+</span> <span class="s1">&#39; (line &#39;</span> <span class="o">+</span> <span class="nx">lineNumber</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">message</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">htmlEscape</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">str</span><span class="p">)</span> <span class="k">return</span> <span class="nx">str</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;/g</span><span class="p">,</span> <span class="s1">&#39;&amp;amp;&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;/g</span><span class="p">,</span> <span class="s1">&#39;&amp;lt;&#39;</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&gt;/g</span><span class="p">,</span> <span class="s1">&#39;&amp;gt;&#39;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">argsToArray</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">arrayOfArgs</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">args</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="nx">arrayOfArgs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
  <span class="k">return</span> <span class="nx">arrayOfArgs</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">extend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">destination</span><span class="p">,</span> <span class="nx">source</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="nx">source</span><span class="p">)</span> <span class="nx">destination</span><span class="p">[</span><span class="nx">property</span><span class="p">]</span> <span class="o">=</span> <span class="nx">source</span><span class="p">[</span><span class="nx">property</span><span class="p">];</span>
  <span class="k">return</span> <span class="nx">destination</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Environment for Jasmine</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">currentSpec</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">currentRunner_</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">reporter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">MultiReporter</span><span class="p">();</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">updateInterval</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">DEFAULT_UPDATE_INTERVAL</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">defaultTimeoutInterval</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">DEFAULT_TIMEOUT_INTERVAL</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">lastUpdate</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">specFilter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">nextSpecId_</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">nextSuiteId_</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">equalityTesters_</span> <span class="o">=</span> <span class="p">[];</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51">&#182;</a>
</div>
<p>wrap matchers</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">matchersClass</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">inherit</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">matchersClass</span><span class="p">,</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">);</span>

  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">wrapInto_</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">matchersClass</span><span class="p">);</span>
<span class="p">};</span>


<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setTimeout</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">;</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">clearTimeout</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clearTimeout</span><span class="p">;</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setInterval</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">;</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">clearInterval</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">version</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">version_</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">version_</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Version not set&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">versionString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">version_</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">&quot;version unknown&quot;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">version</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">version</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">versionString</span> <span class="o">=</span> <span class="nx">version</span><span class="p">.</span><span class="nx">major</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">version</span><span class="p">.</span><span class="nx">minor</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">version</span><span class="p">.</span><span class="nx">build</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">version</span><span class="p">.</span><span class="nx">release_candidate</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">versionString</span> <span class="o">+=</span> <span class="s2">&quot;.rc&quot;</span> <span class="o">+</span> <span class="nx">version</span><span class="p">.</span><span class="nx">release_candidate</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="nx">versionString</span> <span class="o">+=</span> <span class="s2">&quot; revision &quot;</span> <span class="o">+</span> <span class="nx">version</span><span class="p">.</span><span class="nx">revision</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">versionString</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">nextSpecId</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">nextSpecId_</span><span class="o">++</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">nextSuiteId</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">nextSuiteId_</span><span class="o">++</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Register a reporter to receive status updates from Jasmine.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">reporter</span>
      <span class="dox_type">jasmine.Reporter</span>
      <span>An object which will receive status updates.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addReporter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">reporter</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">addReporter</span><span class="p">(</span><span class="nx">reporter</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">currentRunner_</span><span class="p">.</span><span class="nx">execute</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">describe</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span> <span class="nx">specDefinitions</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">suite</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">description</span><span class="p">,</span> <span class="nx">specDefinitions</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span><span class="p">);</span>

  <span class="kd">var</span> <span class="nx">parentSuite</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">parentSuite</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">parentSuite</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">suite</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">currentRunner_</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">suite</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span> <span class="o">=</span> <span class="nx">suite</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">declarationError</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="nx">specDefinitions</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">suite</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">declarationError</span> <span class="o">=</span> <span class="nx">e</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">declarationError</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">it</span><span class="p">(</span><span class="s2">&quot;encountered a declaration exception&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="nx">declarationError</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span> <span class="o">=</span> <span class="nx">parentSuite</span><span class="p">;</span>

  <span class="k">return</span> <span class="nx">suite</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">beforeEach</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">beforeEachFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span><span class="nx">beforeEachFunction</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">currentRunner_</span><span class="p">.</span><span class="nx">beforeEach</span><span class="p">(</span><span class="nx">beforeEachFunction</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">currentRunner</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">currentRunner_</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">afterEach</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">afterEachFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span><span class="p">.</span><span class="nx">afterEach</span><span class="p">(</span><span class="nx">afterEachFunction</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">currentRunner_</span><span class="p">.</span><span class="nx">afterEach</span><span class="p">(</span><span class="nx">afterEachFunction</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">xdescribe</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">desc</span><span class="p">,</span> <span class="nx">specDefinitions</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">execute</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">it</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span><span class="p">,</span> <span class="nx">description</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">currentSuite</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">spec</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">currentSpec</span> <span class="o">=</span> <span class="nx">spec</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">spec</span><span class="p">.</span><span class="nx">runs</span><span class="p">(</span><span class="nx">func</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">spec</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">xit</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">desc</span><span class="p">,</span> <span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">nextSpecId</span><span class="p">(),</span>
    <span class="nx">runs</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">}</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">compareRegExps_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">source</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">source</span><span class="p">)</span>
    <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;expected pattern /&quot;</span> <span class="o">+</span> <span class="nx">b</span><span class="p">.</span><span class="nx">source</span> <span class="o">+</span> <span class="s2">&quot;/ is not equal to the pattern /&quot;</span> <span class="o">+</span> <span class="nx">a</span><span class="p">.</span><span class="nx">source</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">ignoreCase</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">ignoreCase</span><span class="p">)</span>
    <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;expected modifier i was&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">ignoreCase</span> <span class="o">?</span> <span class="s2">&quot; &quot;</span> <span class="o">:</span> <span class="s2">&quot; not &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;set and does not equal the origin modifier&quot;</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">global</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">global</span><span class="p">)</span>
    <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;expected modifier g was&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">global</span> <span class="o">?</span> <span class="s2">&quot; &quot;</span> <span class="o">:</span> <span class="s2">&quot; not &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;set and does not equal the origin modifier&quot;</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">multiline</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">multiline</span><span class="p">)</span>
    <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;expected modifier m was&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">multiline</span> <span class="o">?</span> <span class="s2">&quot; &quot;</span> <span class="o">:</span> <span class="s2">&quot; not &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;set and does not equal the origin modifier&quot;</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">sticky</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">sticky</span><span class="p">)</span>
    <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;expected modifier y was&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">sticky</span> <span class="o">?</span> <span class="s2">&quot; &quot;</span> <span class="o">:</span> <span class="s2">&quot; not &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;set and does not equal the origin modifier&quot;</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span><span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">compareObjects_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span> <span class="o">===</span> <span class="nx">b</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span> <span class="o">===</span> <span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">a</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span> <span class="o">=</span> <span class="nx">b</span><span class="p">;</span>
  <span class="nx">b</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span> <span class="o">=</span> <span class="nx">a</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">hasKey</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">keyName</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">obj</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">keyName</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasKey</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">property</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">hasKey</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">property</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">mismatchKeys</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;expected has key &#39;&quot;</span> <span class="o">+</span> <span class="nx">property</span> <span class="o">+</span> <span class="s2">&quot;&#39;, but missing from actual.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">property</span> <span class="k">in</span> <span class="nx">a</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasKey</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span> <span class="nx">property</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">hasKey</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">property</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">mismatchKeys</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;expected missing key &#39;&quot;</span> <span class="o">+</span> <span class="nx">property</span> <span class="o">+</span> <span class="s2">&quot;&#39;, but present in actual.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">property</span> <span class="k">in</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">property</span> <span class="o">==</span> <span class="s1">&#39;__Jasmine_been_here_before__&#39;</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">equals_</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">property</span><span class="p">],</span> <span class="nx">b</span><span class="p">[</span><span class="nx">property</span><span class="p">],</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nx">property</span> <span class="o">+</span> <span class="s2">&quot;&#39; was &#39;&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">property</span><span class="p">]</span> <span class="o">?</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">htmlEscape</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">property</span><span class="p">].</span><span class="nx">toString</span><span class="p">())</span> <span class="o">:</span> <span class="nx">b</span><span class="p">[</span><span class="nx">property</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39; in expected, but was &#39;&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">property</span><span class="p">]</span> <span class="o">?</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">htmlEscape</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">property</span><span class="p">].</span><span class="nx">toString</span><span class="p">())</span> <span class="o">:</span> <span class="nx">a</span><span class="p">[</span><span class="nx">property</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39; in actual.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span><span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">a</span><span class="p">.</span><span class="nx">length</span> <span class="o">!=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;arrays were not the same length&quot;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">delete</span> <span class="nx">a</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span><span class="p">;</span>
  <span class="k">delete</span> <span class="nx">b</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">(</span><span class="nx">mismatchKeys</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">equals_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mismatchKeys</span> <span class="o">=</span> <span class="nx">mismatchKeys</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">mismatchValues</span> <span class="o">=</span> <span class="nx">mismatchValues</span> <span class="o">||</span> <span class="p">[];</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">equalityTesters_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">equalityTester</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">equalityTesters_</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">equalityTester</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">result</span> <span class="o">!==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">)</span> <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">||</span> <span class="nx">a</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">b</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">||</span> <span class="nx">b</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="o">==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isDomNode</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">isDomNode</span><span class="p">(</span><span class="nx">b</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="k">instanceof</span> <span class="nb">Date</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="k">instanceof</span> <span class="nb">Date</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">==</span> <span class="nx">b</span><span class="p">.</span><span class="nx">getTime</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">jasmineMatches</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">jasmineMatches</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">jasmineMatches</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">jasmineMatches</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="k">instanceof</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">ObjectContaining</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">b</span> <span class="k">instanceof</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">ObjectContaining</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">matches</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isString_</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">isString_</span><span class="p">(</span><span class="nx">b</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isNumber_</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">isNumber_</span><span class="p">(</span><span class="nx">b</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="nx">b</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">a</span> <span class="k">instanceof</span> <span class="nb">RegExp</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="k">instanceof</span> <span class="nb">RegExp</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">compareRegExps_</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">b</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">compareObjects_</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">);</span>
  <span class="p">}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57">&#182;</a>
</div>
<p>Straight check</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">return</span> <span class="p">(</span><span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">contains_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">haystack</span><span class="p">,</span> <span class="nx">needle</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span><span class="p">(</span><span class="nx">haystack</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">haystack</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">equals_</span><span class="p">(</span><span class="nx">haystack</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">needle</span><span class="p">))</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">haystack</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">needle</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Env</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addEqualityTester</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">equalityTester</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">equalityTesters_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">equalityTester</span><span class="p">);</span>
<span class="p">};</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>No-op base class for Jasmine reporters.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Reporter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Reporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportRunnerStarting</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">runner</span><span class="p">)</span> <span class="p">{</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Reporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportRunnerResults</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">runner</span><span class="p">)</span> <span class="p">{</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Reporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportSuiteResults</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suite</span><span class="p">)</span> <span class="p">{</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Reporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportSpecStarting</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">spec</span><span class="p">)</span> <span class="p">{</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Reporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportSpecResults</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">spec</span><span class="p">)</span> <span class="p">{</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Reporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">log</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Blocks are functions with executable code that make up a spec.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">env</span>
      <span class="dox_type">jasmine.Env</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">func</span>
      <span class="dox_type">Function</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">spec
</span>
      <span class="dox_type">jasmine.Spec</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">,</span> <span class="nx">func</span><span class="p">,</span> <span class="nx">spec</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">env</span> <span class="o">=</span> <span class="nx">env</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">func</span> <span class="o">=</span> <span class="nx">func</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">spec</span> <span class="o">=</span> <span class="nx">spec</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">CATCH_EXCEPTIONS</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spec</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">func</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spec</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">onComplete</span><span class="p">();</span>
<span class="p">};</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>JavaScript API reporter.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">started</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">finished</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">suites_</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">results_</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportRunnerStarting</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">runner</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">started</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">suites</span> <span class="o">=</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">topLevelSuites</span><span class="p">();</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">suites</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">suite</span> <span class="o">=</span> <span class="nx">suites</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">summarize_</span><span class="p">(</span><span class="nx">suite</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">suites</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">summarize_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suiteOrSpec</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">isSuite</span> <span class="o">=</span> <span class="nx">suiteOrSpec</span> <span class="k">instanceof</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">summary</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">id</span><span class="o">:</span> <span class="nx">suiteOrSpec</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
    <span class="nx">name</span><span class="o">:</span> <span class="nx">suiteOrSpec</span><span class="p">.</span><span class="nx">description</span><span class="p">,</span>
    <span class="nx">type</span><span class="o">:</span> <span class="nx">isSuite</span> <span class="o">?</span> <span class="s1">&#39;suite&#39;</span> <span class="o">:</span> <span class="s1">&#39;spec&#39;</span><span class="p">,</span>
    <span class="nx">children</span><span class="o">:</span> <span class="p">[]</span>
  <span class="p">};</span>
  
  <span class="k">if</span> <span class="p">(</span><span class="nx">isSuite</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">children</span> <span class="o">=</span> <span class="nx">suiteOrSpec</span><span class="p">.</span><span class="nx">children</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">summary</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">summarize_</span><span class="p">(</span><span class="nx">children</span><span class="p">[</span><span class="nx">i</span><span class="p">]));</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">summary</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">results</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">results_</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">resultsForSpec</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">specId</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">results_</span><span class="p">[</span><span class="nx">specId</span><span class="p">];</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportRunnerResults</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">runner</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">finished</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportSuiteResults</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suite</span><span class="p">)</span> <span class="p">{</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reportSpecResults</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">spec</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">results_</span><span class="p">[</span><span class="nx">spec</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">messages</span><span class="o">:</span> <span class="nx">spec</span><span class="p">.</span><span class="nx">results</span><span class="p">().</span><span class="nx">getItems</span><span class="p">(),</span>
    <span class="nx">result</span><span class="o">:</span> <span class="nx">spec</span><span class="p">.</span><span class="nx">results</span><span class="p">().</span><span class="nx">failedCount</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="s2">&quot;failed&quot;</span> <span class="o">:</span> <span class="s2">&quot;passed&quot;</span>
  <span class="p">};</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70">&#182;</a>
</div>
<p>noinspection JSUnusedLocalSymbols</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">log</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">resultsForSpecs</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">specIds</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">specIds</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">specId</span> <span class="o">=</span> <span class="nx">specIds</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="nx">results</span><span class="p">[</span><span class="nx">specId</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">summarizeResult_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">results_</span><span class="p">[</span><span class="nx">specId</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">JsApiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">summarizeResult_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">summaryMessages</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">var</span> <span class="nx">messagesLength</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">messageIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">messageIndex</span> <span class="o">&lt;</span> <span class="nx">messagesLength</span><span class="p">;</span> <span class="nx">messageIndex</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">resultMessage</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">messages</span><span class="p">[</span><span class="nx">messageIndex</span><span class="p">];</span>
    <span class="nx">summaryMessages</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
      <span class="nx">text</span><span class="o">:</span> <span class="nx">resultMessage</span><span class="p">.</span><span class="nx">type</span> <span class="o">==</span> <span class="s1">&#39;log&#39;</span> <span class="o">?</span> <span class="nx">resultMessage</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">:</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">,</span>
      <span class="nx">passed</span><span class="o">:</span> <span class="nx">resultMessage</span><span class="p">.</span><span class="nx">passed</span> <span class="o">?</span> <span class="nx">resultMessage</span><span class="p">.</span><span class="nx">passed</span><span class="p">()</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">type</span><span class="o">:</span> <span class="nx">resultMessage</span><span class="p">.</span><span class="nx">type</span><span class="p">,</span>
      <span class="nx">message</span><span class="o">:</span> <span class="nx">resultMessage</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span>
      <span class="nx">trace</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">stack</span><span class="o">:</span> <span class="nx">resultMessage</span><span class="p">.</span><span class="nx">passed</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">resultMessage</span><span class="p">.</span><span class="nx">passed</span><span class="p">()</span> <span class="o">?</span> <span class="nx">resultMessage</span><span class="p">.</span><span class="nx">trace</span><span class="p">.</span><span class="nx">stack</span> <span class="o">:</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">:</span> <span class="nx">result</span><span class="p">.</span><span class="nx">result</span><span class="p">,</span>
    <span class="nx">messages</span> <span class="o">:</span> <span class="nx">summaryMessages</span>
  <span class="p">};</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">env</span>
      <span class="dox_type">jasmine.Env</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">actual</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">spec
</span>
      <span class="dox_type">jasmine.Spec</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">,</span> <span class="nx">actual</span><span class="p">,</span> <span class="nx">spec</span><span class="p">,</span> <span class="nx">opt_isNot</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">env</span> <span class="o">=</span> <span class="nx">env</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">=</span> <span class="nx">actual</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">spec</span> <span class="o">=</span> <span class="nx">spec</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">isNot</span> <span class="o">=</span> <span class="nx">opt_isNot</span> <span class="o">||</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">reportWasCalled_</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72">&#182;</a>
</div>
<p>todo: @deprecated as of Jasmine 0.11, remove soon [xw]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">pp</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!&quot;</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73">&#182;</a>
</div>
<p>todo: @deprecated Deprecated as of Jasmine 0.10. Rewrite your custom matchers to return true or false. [xw]</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">report</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">failing_message</span><span class="p">,</span> <span class="nx">details</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs&quot;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">wrapInto_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">prototype</span><span class="p">,</span> <span class="nx">matchersClass</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">methodName</span> <span class="k">in</span> <span class="nx">prototype</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">methodName</span> <span class="o">==</span> <span class="s1">&#39;report&#39;</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">orig</span> <span class="o">=</span> <span class="nx">prototype</span><span class="p">[</span><span class="nx">methodName</span><span class="p">];</span>
    <span class="nx">matchersClass</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">methodName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">matcherFn_</span><span class="p">(</span><span class="nx">methodName</span><span class="p">,</span> <span class="nx">orig</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">matcherFn_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">matcherName</span><span class="p">,</span> <span class="nx">matcherFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">matcherArgs</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">argsToArray</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">matcherFunction</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isNot</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">result</span> <span class="o">=</span> <span class="o">!</span><span class="nx">result</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">reportWasCalled_</span><span class="p">)</span> <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">message</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">message</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">message</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">message</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span><span class="p">(</span><span class="nx">message</span><span class="p">))</span> <span class="p">{</span>
          <span class="nx">message</span> <span class="o">=</span> <span class="nx">message</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">isNot</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="p">];</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">englishyPredicate</span> <span class="o">=</span> <span class="nx">matcherName</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[A-Z]/g</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">s</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span> <span class="p">});</span>
        <span class="nx">message</span> <span class="o">=</span> <span class="s2">&quot;Expected &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isNot</span> <span class="o">?</span> <span class="s2">&quot; not &quot;</span> <span class="o">:</span> <span class="s2">&quot; &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="nx">englishyPredicate</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">matcherArgs</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">matcherArgs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">message</span> <span class="o">+=</span> <span class="s2">&quot;,&quot;</span><span class="p">;</span>
            <span class="nx">message</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="nx">matcherArgs</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
          <span class="p">}</span>
        <span class="p">}</span>
        <span class="nx">message</span> <span class="o">+=</span> <span class="s2">&quot;.&quot;</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">expectationResult</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">ExpectationResult</span><span class="p">({</span>
      <span class="nx">matcherName</span><span class="o">:</span> <span class="nx">matcherName</span><span class="p">,</span>
      <span class="nx">passed</span><span class="o">:</span> <span class="nx">result</span><span class="p">,</span>
      <span class="nx">expected</span><span class="o">:</span> <span class="nx">matcherArgs</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">?</span> <span class="nx">matcherArgs</span> <span class="o">:</span> <span class="nx">matcherArgs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
      <span class="nx">actual</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">,</span>
      <span class="nx">message</span><span class="o">:</span> <span class="nx">message</span>
    <span class="p">});</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">addMatcherResult</span><span class="p">(</span><span class="nx">expectationResult</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">};</span>





</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>toBe: compares the actual to the expected using ===</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBe</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">===</span> <span class="nx">expected</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>toNotBe: compares the actual to the expected using !==</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toNotBe</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">!==</span> <span class="nx">expected</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>toEqual: compares the actual to the expected using common sense equality. Handles Objects, Arrays, etc.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toEqual</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">equals_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">,</span> <span class="nx">expected</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>toNotEqual: compares the actual to the expected using the ! of jasmine.Matchers.toEqual</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toNotEqual</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">equals_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">,</span> <span class="nx">expected</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that compares the actual to the expected using a regular expression.  Constructs a RegExp, so takes
a pattern or a String.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toMatch</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">expected</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that compares the actual to the expected using the boolean inverse of jasmine.Matchers.toMatch</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toNotMatch</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">!</span><span class="p">(</span><span class="k">new</span> <span class="nb">RegExp</span><span class="p">(</span><span class="nx">expected</span><span class="p">).</span><span class="nx">test</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">));</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that compares the actual to jasmine.undefined.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeDefined</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">!==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that compares the actual to jasmine.undefined.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeUndefined</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that compares the actual to null.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeNull</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">===</span> <span class="kc">null</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that compares the actual to NaN.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeNaN</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span> <span class="s2">&quot;Expected &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; to be NaN.&quot;</span> <span class="p">];</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that boolean not-nots the actual.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeTruthy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">!!</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that boolean nots the actual.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeFalsy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that checks to see if the actual, a Jasmine spy, was called.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toHaveBeenCalled</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isSpy</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Expected a spy, but got &#39;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span>
      <span class="s2">&quot;Expected spy &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="s2">&quot; to have been called.&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Expected spy &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="s2">&quot; not to have been called.&quot;</span>
    <span class="p">];</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">wasCalled</span><span class="p">;</span>
<span class="p">};</span>

<span class="cm">/** @deprecated Use expect(xxx).toHaveBeenCalled() instead */</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">wasCalled</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toHaveBeenCalled</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that checks to see if the actual, a Jasmine spy, was not called.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">wasNotCalled</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;wasNotCalled does not take arguments&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isSpy</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Expected a spy, but got &#39;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span>
      <span class="s2">&quot;Expected spy &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="s2">&quot; to not have been called.&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Expected spy &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="s2">&quot; to have been called.&quot;</span>
    <span class="p">];</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">wasCalled</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that checks to see if the actual, a Jasmine spy, was called with a set of parameters.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toHaveBeenCalledWith</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">expectedArgs</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">argsToArray</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isSpy</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Expected a spy, but got &#39;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">invertedMessage</span> <span class="o">=</span> <span class="s2">&quot;Expected spy &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="s2">&quot; not to have been called with &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="nx">expectedArgs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; but it was.&quot;</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">positiveMessage</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">callCount</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">positiveMessage</span> <span class="o">=</span> <span class="s2">&quot;Expected spy &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="s2">&quot; to have been called with &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="nx">expectedArgs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; but it was never called.&quot;</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">positiveMessage</span> <span class="o">=</span> <span class="s2">&quot;Expected spy &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">identity</span> <span class="o">+</span> <span class="s2">&quot; to have been called with &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="nx">expectedArgs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; but actual calls were &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">argsForCall</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\[ | \]$/g</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">[</span><span class="nx">positiveMessage</span><span class="p">,</span> <span class="nx">invertedMessage</span><span class="p">];</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">contains_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">argsForCall</span><span class="p">,</span> <span class="nx">expectedArgs</span><span class="p">);</span>
<span class="p">};</span>

<span class="cm">/** @deprecated Use expect(xxx).toHaveBeenCalledWith() instead */</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">wasCalledWith</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toHaveBeenCalledWith</span><span class="p">;</span>

<span class="cm">/** @deprecated Use expect(xxx).not.toHaveBeenCalledWith() instead */</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">wasNotCalledWith</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">expectedArgs</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">argsToArray</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isSpy</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Expected a spy, but got &#39;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span>
      <span class="s2">&quot;Expected spy not to have been called with &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="nx">expectedArgs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; but it was&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Expected spy to have been called with &quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="nx">expectedArgs</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; but it was&quot;</span>
    <span class="p">];</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">contains_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">.</span><span class="nx">argsForCall</span><span class="p">,</span> <span class="nx">expectedArgs</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that checks that the expected item is an element in the actual Array.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected
</span>
      <span class="dox_type">Object</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toContain</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">contains_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">,</span> <span class="nx">expected</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that checks that the expected item is NOT an element in the actual Array.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected</span>
      <span class="dox_type">Object</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toNotContain</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">contains_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">,</span> <span class="nx">expected</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeLessThan</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">&lt;</span> <span class="nx">expected</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeGreaterThan</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">&gt;</span> <span class="nx">expected</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that checks that the expected item is equal to the actual item
up to a given level of decimal precision (default 2).</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">expected</span>
      <span class="dox_type">Number</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">precision,</span>
      <span class="dox_type">Number</span>
      <span>as number of decimal places</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toBeCloseTo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">,</span> <span class="nx">precision</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">precision</span> <span class="o">===</span> <span class="mi">0</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">precision</span> <span class="o">=</span> <span class="nx">precision</span> <span class="o">||</span> <span class="mi">2</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">expected</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">)</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="nx">precision</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Matcher that checks that the expected exception was thrown by the actual.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">[expected]
</span>
      <span class="dox_type">String</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toThrow</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">exception</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">actual</span> <span class="o">!=</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Actual is not a function&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">actual</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">exception</span> <span class="o">=</span> <span class="nx">e</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">exception</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="p">(</span><span class="nx">expected</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">equals_</span><span class="p">(</span><span class="nx">exception</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="nx">exception</span><span class="p">,</span> <span class="nx">expected</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="nx">expected</span><span class="p">));</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">not</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">isNot</span> <span class="o">?</span> <span class="s2">&quot;not &quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">exception</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">expected</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">||</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">equals_</span><span class="p">(</span><span class="nx">exception</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="nx">exception</span><span class="p">,</span> <span class="nx">expected</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="nx">expected</span><span class="p">)))</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">[</span><span class="s2">&quot;Expected function &quot;</span> <span class="o">+</span> <span class="nx">not</span> <span class="o">+</span> <span class="s2">&quot;to throw&quot;</span><span class="p">,</span> <span class="nx">expected</span> <span class="o">?</span> <span class="nx">expected</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="nx">expected</span> <span class="o">:</span> <span class="s2">&quot;an exception&quot;</span><span class="p">,</span> <span class="s2">&quot;, but it threw&quot;</span><span class="p">,</span> <span class="nx">exception</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="nx">exception</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s2">&quot;Expected function to throw an exception.&quot;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">Any</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">expectedClass</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">expectedClass</span> <span class="o">=</span> <span class="nx">expectedClass</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">Any</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">jasmineMatches</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">other</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expectedClass</span> <span class="o">==</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">other</span> <span class="o">==</span> <span class="s1">&#39;string&#39;</span> <span class="o">||</span> <span class="nx">other</span> <span class="k">instanceof</span> <span class="nb">String</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expectedClass</span> <span class="o">==</span> <span class="nb">Number</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">other</span> <span class="o">==</span> <span class="s1">&#39;number&#39;</span> <span class="o">||</span> <span class="nx">other</span> <span class="k">instanceof</span> <span class="nb">Number</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expectedClass</span> <span class="o">==</span> <span class="nb">Function</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">other</span> <span class="o">==</span> <span class="s1">&#39;function&#39;</span> <span class="o">||</span> <span class="nx">other</span> <span class="k">instanceof</span> <span class="nb">Function</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">expectedClass</span> <span class="o">==</span> <span class="nb">Object</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">typeof</span> <span class="nx">other</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="nx">other</span> <span class="k">instanceof</span> <span class="k">this</span><span class="p">.</span><span class="nx">expectedClass</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">Any</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">jasmineToString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">&#39;&lt;jasmine.any(&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">expectedClass</span> <span class="o">+</span> <span class="s1">&#39;)&gt;&#39;</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">ObjectContaining</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">sample</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">sample</span> <span class="o">=</span> <span class="nx">sample</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">ObjectContaining</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">jasmineMatches</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">other</span><span class="p">,</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">mismatchKeys</span> <span class="o">=</span> <span class="nx">mismatchKeys</span> <span class="o">||</span> <span class="p">[];</span>
  <span class="nx">mismatchValues</span> <span class="o">=</span> <span class="nx">mismatchValues</span> <span class="o">||</span> <span class="p">[];</span>

  <span class="kd">var</span> <span class="nx">env</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">();</span>

  <span class="kd">var</span> <span class="nx">hasKey</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">keyName</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">obj</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">keyName</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">sample</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">hasKey</span><span class="p">(</span><span class="nx">other</span><span class="p">,</span> <span class="nx">property</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">hasKey</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sample</span><span class="p">,</span> <span class="nx">property</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">mismatchKeys</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;expected has key &#39;&quot;</span> <span class="o">+</span> <span class="nx">property</span> <span class="o">+</span> <span class="s2">&quot;&#39;, but missing from actual.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">env</span><span class="p">.</span><span class="nx">equals_</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sample</span><span class="p">[</span><span class="nx">property</span><span class="p">],</span> <span class="nx">other</span><span class="p">[</span><span class="nx">property</span><span class="p">],</span> <span class="nx">mismatchKeys</span><span class="p">,</span> <span class="nx">mismatchValues</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nx">property</span> <span class="o">+</span> <span class="s2">&quot;&#39; was &#39;&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">other</span><span class="p">[</span><span class="nx">property</span><span class="p">]</span> <span class="o">?</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">htmlEscape</span><span class="p">(</span><span class="nx">other</span><span class="p">[</span><span class="nx">property</span><span class="p">].</span><span class="nx">toString</span><span class="p">())</span> <span class="o">:</span> <span class="nx">other</span><span class="p">[</span><span class="nx">property</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39; in expected, but was &#39;&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sample</span><span class="p">[</span><span class="nx">property</span><span class="p">]</span> <span class="o">?</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">htmlEscape</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sample</span><span class="p">[</span><span class="nx">property</span><span class="p">].</span><span class="nx">toString</span><span class="p">())</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">sample</span><span class="p">[</span><span class="nx">property</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;&#39; in actual.&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">(</span><span class="nx">mismatchKeys</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">mismatchValues</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">ObjectContaining</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">jasmineToString</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s2">&quot;&lt;jasmine.objectContaining(&quot;</span> <span class="o">+</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">pp</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sample</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;)&gt;&quot;</span><span class="p">;</span>
<span class="p">};</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93">&#182;</a>
</div>
<p>Mock setTimeout, clearTimeout
Contributed by Pivotal Computer Systems, www.pivotalsf.com</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">FakeTimer</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>

  <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">setTimeout</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">timeoutsMade</span><span class="o">++</span><span class="p">;</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">scheduleFunction</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">timeoutsMade</span><span class="p">,</span> <span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">timeoutsMade</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="nx">self</span><span class="p">.</span><span class="nx">setInterval</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">timeoutsMade</span><span class="o">++</span><span class="p">;</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">scheduleFunction</span><span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">timeoutsMade</span><span class="p">,</span> <span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">self</span><span class="p">.</span><span class="nx">timeoutsMade</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="nx">self</span><span class="p">.</span><span class="nx">clearTimeout</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">scheduledFunctions</span><span class="p">[</span><span class="nx">timeoutKey</span><span class="p">]</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">;</span>
  <span class="p">};</span>

  <span class="nx">self</span><span class="p">.</span><span class="nx">clearInterval</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">scheduledFunctions</span><span class="p">[</span><span class="nx">timeoutKey</span><span class="p">]</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">;</span>
  <span class="p">};</span>

<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">FakeTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reset</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">timeoutsMade</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">scheduledFunctions</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">nowMillis</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">FakeTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">tick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">millis</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">oldMillis</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">nowMillis</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">newMillis</span> <span class="o">=</span> <span class="nx">oldMillis</span> <span class="o">+</span> <span class="nx">millis</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">runFunctionsWithinRange</span><span class="p">(</span><span class="nx">oldMillis</span><span class="p">,</span> <span class="nx">newMillis</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">nowMillis</span> <span class="o">=</span> <span class="nx">newMillis</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">FakeTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">runFunctionsWithinRange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">oldMillis</span><span class="p">,</span> <span class="nx">nowMillis</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">scheduledFunc</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">funcsToRun</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">timeoutKey</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">scheduledFunctions</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">scheduledFunc</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">scheduledFunctions</span><span class="p">[</span><span class="nx">timeoutKey</span><span class="p">];</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">scheduledFunc</span> <span class="o">!=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">&amp;&amp;</span>
        <span class="nx">scheduledFunc</span><span class="p">.</span><span class="nx">runAtMillis</span> <span class="o">&gt;=</span> <span class="nx">oldMillis</span> <span class="o">&amp;&amp;</span>
        <span class="nx">scheduledFunc</span><span class="p">.</span><span class="nx">runAtMillis</span> <span class="o">&lt;=</span> <span class="nx">nowMillis</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">funcsToRun</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">scheduledFunc</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">scheduledFunctions</span><span class="p">[</span><span class="nx">timeoutKey</span><span class="p">]</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">funcsToRun</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">funcsToRun</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">runAtMillis</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">runAtMillis</span><span class="p">;</span>
    <span class="p">});</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">funcsToRun</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">funcToRun</span> <span class="o">=</span> <span class="nx">funcsToRun</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">nowMillis</span> <span class="o">=</span> <span class="nx">funcToRun</span><span class="p">.</span><span class="nx">runAtMillis</span><span class="p">;</span>
        <span class="nx">funcToRun</span><span class="p">.</span><span class="nx">funcToCall</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">funcToRun</span><span class="p">.</span><span class="nx">recurring</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">scheduleFunction</span><span class="p">(</span><span class="nx">funcToRun</span><span class="p">.</span><span class="nx">timeoutKey</span><span class="p">,</span>
              <span class="nx">funcToRun</span><span class="p">.</span><span class="nx">funcToCall</span><span class="p">,</span>
              <span class="nx">funcToRun</span><span class="p">.</span><span class="nx">millis</span><span class="p">,</span>
              <span class="kc">true</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">runFunctionsWithinRange</span><span class="p">(</span><span class="nx">oldMillis</span><span class="p">,</span> <span class="nx">nowMillis</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">FakeTimer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">scheduleFunction</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">,</span> <span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">,</span> <span class="nx">recurring</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">scheduledFunctions</span><span class="p">[</span><span class="nx">timeoutKey</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">runAtMillis</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">nowMillis</span> <span class="o">+</span> <span class="nx">millis</span><span class="p">,</span>
    <span class="nx">funcToCall</span><span class="o">:</span> <span class="nx">funcToCall</span><span class="p">,</span>
    <span class="nx">recurring</span><span class="o">:</span> <span class="nx">recurring</span><span class="p">,</span>
    <span class="nx">timeoutKey</span><span class="o">:</span> <span class="nx">timeoutKey</span><span class="p">,</span>
    <span class="nx">millis</span><span class="o">:</span> <span class="nx">millis</span>
  <span class="p">};</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">defaultFakeTimer</span><span class="o">:</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">FakeTimer</span><span class="p">(),</span>

  <span class="nx">reset</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">assertInstalled</span><span class="p">();</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">defaultFakeTimer</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
  <span class="p">},</span>

  <span class="nx">tick</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">millis</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">assertInstalled</span><span class="p">();</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">defaultFakeTimer</span><span class="p">.</span><span class="nx">tick</span><span class="p">(</span><span class="nx">millis</span><span class="p">);</span>
  <span class="p">},</span>

  <span class="nx">runFunctionsWithinRange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">oldMillis</span><span class="p">,</span> <span class="nx">nowMillis</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">defaultFakeTimer</span><span class="p">.</span><span class="nx">runFunctionsWithinRange</span><span class="p">(</span><span class="nx">oldMillis</span><span class="p">,</span> <span class="nx">nowMillis</span><span class="p">);</span>
  <span class="p">},</span>

  <span class="nx">scheduleFunction</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">,</span> <span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">,</span> <span class="nx">recurring</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">defaultFakeTimer</span><span class="p">.</span><span class="nx">scheduleFunction</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">,</span> <span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">,</span> <span class="nx">recurring</span><span class="p">);</span>
  <span class="p">},</span>

  <span class="nx">useMock</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">isInstalled</span><span class="p">())</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getEnv</span><span class="p">().</span><span class="nx">currentSpec</span><span class="p">;</span>
      <span class="nx">spec</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">uninstallMock</span><span class="p">);</span>

      <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installMock</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">},</span>

  <span class="nx">installMock</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">defaultFakeTimer</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="nx">uninstallMock</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">assertInstalled</span><span class="p">();</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">real</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="nx">real</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">setTimeout</span><span class="o">:</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">().</span><span class="nx">setTimeout</span><span class="p">,</span>
    <span class="nx">clearTimeout</span><span class="o">:</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">().</span><span class="nx">clearTimeout</span><span class="p">,</span>
    <span class="nx">setInterval</span><span class="o">:</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">().</span><span class="nx">setInterval</span><span class="p">,</span>
    <span class="nx">clearInterval</span><span class="o">:</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">().</span><span class="nx">clearInterval</span>
  <span class="p">},</span>

  <span class="nx">assertInstalled</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">isInstalled</span><span class="p">())</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">&quot;Mock clock is not installed, use jasmine.Clock.useMock()&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span>

  <span class="nx">isInstalled</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span> <span class="o">==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">defaultFakeTimer</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="nx">installed</span><span class="o">:</span> <span class="kc">null</span>
<span class="p">};</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">real</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95">&#182;</a>
</div>
<p>else for IE support</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">().</span><span class="nx">setTimeout</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">.</span><span class="nx">apply</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">().</span><span class="nx">setInterval</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">.</span><span class="nx">apply</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">(</span><span class="nx">funcToCall</span><span class="p">,</span> <span class="nx">millis</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">().</span><span class="nx">clearTimeout</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">clearTimeout</span><span class="p">.</span><span class="nx">apply</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">clearTimeout</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">().</span><span class="nx">clearInterval</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">clearTimeout</span><span class="p">.</span><span class="nx">apply</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Clock</span><span class="p">.</span><span class="nx">installed</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">timeoutKey</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">MultiReporter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">subReporters_</span> <span class="o">=</span> <span class="p">[];</span>
<span class="p">};</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">inherit</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">MultiReporter</span><span class="p">,</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Reporter</span><span class="p">);</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">MultiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addReporter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">reporter</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">subReporters_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">reporter</span><span class="p">);</span>
<span class="p">};</span>

<span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">functionNames</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;reportRunnerStarting&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reportRunnerResults&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reportSuiteResults&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reportSpecStarting&quot;</span><span class="p">,</span>
    <span class="s2">&quot;reportSpecResults&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log&quot;</span>
  <span class="p">];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">functionNames</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">functionName</span> <span class="o">=</span> <span class="nx">functionNames</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="nx">jasmine</span><span class="p">.</span><span class="nx">MultiReporter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">functionName</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">functionName</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">subReporters_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">subReporter</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">subReporters_</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">subReporter</span><span class="p">[</span><span class="nx">functionName</span><span class="p">])</span> <span class="p">{</span>
            <span class="nx">subReporter</span><span class="p">[</span><span class="nx">functionName</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="nx">subReporter</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">};</span>
    <span class="p">})(</span><span class="nx">functionName</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">})();</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Holds results for a set of Jasmine spec. Allows for the results array to hold another jasmine.NestedResults</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">NestedResults</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>The total count of results</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">totalCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Number of passed results</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">passedCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Number of failed results</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">failedCount</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-101" id="section-101">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Was this suite/spec skipped?</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">skipped</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">items_</span> <span class="o">=</span> <span class="p">[];</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Roll up the result counts.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">result
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">NestedResults</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">rollupCounts</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">totalCount</span> <span class="o">+=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">totalCount</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">passedCount</span> <span class="o">+=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">passedCount</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">failedCount</span> <span class="o">+=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">failedCount</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Adds a log message.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">values</span>
      <span>Array of message parts which will be concatenated later.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">NestedResults</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">log</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">values</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">items_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">MessageResult</span><span class="p">(</span><span class="nx">values</span><span class="p">));</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-105" id="section-105">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Getter for the results: message &amp; results.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">NestedResults</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getItems</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">items_</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Adds a result, tracking counts (total, passed, &amp; failed)</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">result
</span>
      <span class="dox_type">jasmine.ExpectationResult</span>
      <span class="dox_type">jasmine.NestedResults</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">NestedResults</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addResult</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">type</span> <span class="o">!=</span> <span class="s1">&#39;log&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">items_</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">rollupCounts</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">totalCount</span><span class="o">++</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">passed</span><span class="p">())</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">passedCount</span><span class="o">++</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">failedCount</span><span class="o">++</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">items_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">NestedResults</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">passed</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">passedCount</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">totalCount</span><span class="p">;</span>
<span class="p">};</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-108" id="section-108">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Base class for pretty printing for expectation results.</p>
  </div>
  <div class="body">
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">ppNestLevel_</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-109" id="section-109">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Formats a value in a nice, human-readable string.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">value
</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">format</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">ppNestLevel_</span><span class="o">++</span><span class="p">;</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="s1">&#39;undefined&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="s1">&#39;null&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">getGlobal</span><span class="p">())</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="s1">&#39;&lt;global&gt;&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">jasmineToString</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">jasmineToString</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitString</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isSpy</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="s2">&quot;spy on &quot;</span> <span class="o">+</span> <span class="nx">value</span><span class="p">.</span><span class="nx">identity</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="k">instanceof</span> <span class="nb">RegExp</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="s1">&#39;Function&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="s1">&#39;HTMLNode&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="k">instanceof</span> <span class="nb">Date</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="s1">&#39;Date(&#39;</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="s1">&#39;&lt;circular reference: &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;Array&#39;</span> <span class="o">:</span> <span class="s1">&#39;Object&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">||</span> <span class="k">typeof</span> <span class="nx">value</span> <span class="o">==</span> <span class="s1">&#39;object&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">value</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">isArray_</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">emitArray</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">emitObject</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">delete</span> <span class="nx">value</span><span class="p">.</span><span class="nx">__Jasmine_been_here_before__</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">emitScalar</span><span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">ppNestLevel_</span><span class="o">--</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">iterateObject</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">property</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">obj</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">property</span><span class="p">))</span> <span class="k">continue</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">property</span> <span class="o">==</span> <span class="s1">&#39;__Jasmine_been_here_before__&#39;</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
    <span class="nx">fn</span><span class="p">(</span><span class="nx">property</span><span class="p">,</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">__lookupGetter__</span> <span class="o">?</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">__lookupGetter__</span><span class="p">(</span><span class="nx">property</span><span class="p">)</span> <span class="o">!==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span> <span class="o">&amp;&amp;</span> 
                                         <span class="nx">obj</span><span class="p">.</span><span class="nx">__lookupGetter__</span><span class="p">(</span><span class="nx">property</span><span class="p">)</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="o">:</span> <span class="kc">false</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">emitArray</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">unimplementedMethod_</span><span class="p">;</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">emitObject</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">unimplementedMethod_</span><span class="p">;</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">emitScalar</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">unimplementedMethod_</span><span class="p">;</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">emitString</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">unimplementedMethod_</span><span class="p">;</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">StringPrettyPrinter</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
<span class="p">};</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">inherit</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">StringPrettyPrinter</span><span class="p">,</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">PrettyPrinter</span><span class="p">);</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">StringPrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">emitScalar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">StringPrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">emitString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nx">value</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">StringPrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">emitArray</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ppNestLevel_</span> <span class="o">&gt;</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">MAX_PRETTY_PRINT_DEPTH</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;Array&quot;</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;[ &#39;</span><span class="p">);</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">array</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">array</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39; ]&#39;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">StringPrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">emitObject</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ppNestLevel_</span> <span class="o">&gt;</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">MAX_PRETTY_PRINT_DEPTH</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;Object&quot;</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;{ &#39;</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">first</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">iterateObject</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">property</span><span class="p">,</span> <span class="nx">isGetter</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">first</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">first</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">self</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">self</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">property</span><span class="p">);</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39; : &#39;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">isGetter</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">self</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;&lt;getter&gt;&#39;</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">self</span><span class="p">.</span><span class="nx">format</span><span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="nx">property</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39; }&#39;</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">StringPrettyPrinter</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">append</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">string</span> <span class="o">+=</span> <span class="nx">value</span><span class="p">;</span>
<span class="p">};</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">env</span> <span class="o">=</span> <span class="nx">env</span><span class="p">;</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-110" id="section-110">&#182;</a>
</div>
<p>parallel to blocks. each true value in this array means the block will
get executed even if we abort</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
  <span class="k">this</span><span class="p">.</span><span class="nx">ensured</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">blocks</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">abort</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addBefore</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">block</span><span class="p">,</span> <span class="nx">ensure</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ensure</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ensure</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">blocks</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">block</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">ensured</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">ensure</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">block</span><span class="p">,</span> <span class="nx">ensure</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ensure</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ensure</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">blocks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">block</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">ensured</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">ensure</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">insertNext</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">block</span><span class="p">,</span> <span class="nx">ensure</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">ensure</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ensure</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">ensured</span><span class="p">.</span><span class="nx">splice</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">ensure</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">blocks</span><span class="p">.</span><span class="nx">splice</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">index</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">offset</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">block</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="o">++</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">onComplete</span> <span class="o">=</span> <span class="nx">onComplete</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">next_</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isRunning</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">running</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">LOOP_DONT_RECURSE</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">next_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">goAgain</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="k">while</span> <span class="p">(</span><span class="nx">goAgain</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">goAgain</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">self</span><span class="p">.</span><span class="nx">blocks</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">abort</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">ensured</span><span class="p">[</span><span class="nx">self</span><span class="p">.</span><span class="nx">index</span><span class="p">]))</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">calledSynchronously</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">completedSynchronously</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

      <span class="kd">var</span> <span class="nx">onComplete</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">LOOP_DONT_RECURSE</span> <span class="o">&amp;&amp;</span> <span class="nx">calledSynchronously</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">completedSynchronously</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
          <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">blocks</span><span class="p">[</span><span class="nx">self</span><span class="p">.</span><span class="nx">index</span><span class="p">].</span><span class="nx">abort</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">self</span><span class="p">.</span><span class="nx">abort</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">self</span><span class="p">.</span><span class="nx">offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">index</span><span class="o">++</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">now</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">();</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">updateInterval</span> <span class="o">&amp;&amp;</span> <span class="nx">now</span> <span class="o">-</span> <span class="nx">self</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">lastUpdate</span> <span class="o">&gt;</span> <span class="nx">self</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">updateInterval</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">self</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">lastUpdate</span> <span class="o">=</span> <span class="nx">now</span><span class="p">;</span>
          <span class="nx">self</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">next_</span><span class="p">();</span>
          <span class="p">},</span> <span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">LOOP_DONT_RECURSE</span> <span class="o">&amp;&amp;</span> <span class="nx">completedSynchronously</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">goAgain</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">self</span><span class="p">.</span><span class="nx">next_</span><span class="p">();</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">};</span>
      <span class="nx">self</span><span class="p">.</span><span class="nx">blocks</span><span class="p">[</span><span class="nx">self</span><span class="p">.</span><span class="nx">index</span><span class="p">].</span><span class="nx">execute</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">);</span>

      <span class="nx">calledSynchronously</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">completedSynchronously</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">onComplete</span><span class="p">();</span>
      <span class="p">}</span>
      
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">self</span><span class="p">.</span><span class="nx">running</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">self</span><span class="p">.</span><span class="nx">onComplete</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">results</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">NestedResults</span><span class="p">();</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">blocks</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">blocks</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">results</span><span class="p">.</span><span class="nx">addResult</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">blocks</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">results</span><span class="p">());</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
<span class="p">};</span>



</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-111" id="section-111">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Runner</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">env
</span>
      <span class="dox_type">jasmine.Env</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">env</span> <span class="o">=</span> <span class="nx">env</span><span class="p">;</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">(</span><span class="nx">env</span><span class="p">);</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">before_</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">after_</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">suites_</span> <span class="o">=</span> <span class="p">[];</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">reportRunnerStarting</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">reportRunnerStarting</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">finishCallback</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">beforeEach</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">beforeEachFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">beforeEachFunction</span><span class="p">.</span><span class="nx">typeName</span> <span class="o">=</span> <span class="s1">&#39;beforeEach&#39;</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">before_</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">beforeEachFunction</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">afterEach</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">afterEachFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">afterEachFunction</span><span class="p">.</span><span class="nx">typeName</span> <span class="o">=</span> <span class="s1">&#39;afterEach&#39;</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">after_</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">afterEachFunction</span><span class="p">);</span>
<span class="p">};</span>


<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">finishCallback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">reportRunnerResults</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addSuite</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suite</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">suite</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">block</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">block</span> <span class="k">instanceof</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">addSuite</span><span class="p">(</span><span class="nx">block</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">block</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">specs</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">suites</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">suites</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">specs</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">suites</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">specs</span> <span class="o">=</span> <span class="nx">specs</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">suites</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">specs</span><span class="p">());</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">specs</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">suites</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">topLevelSuites</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">topLevelSuites</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">parentSuite</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">topLevelSuites</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">topLevelSuites</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Runner</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">results</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">results</span><span class="p">();</span>
<span class="p">};</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-112" id="section-112">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Internal representation of a Jasmine specification, or test.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">env</span>
      <span class="dox_type">jasmine.Env</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">suite</span>
      <span class="dox_type">jasmine.Suite</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">description
</span>
      <span class="dox_type">String</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">,</span> <span class="nx">suite</span><span class="p">,</span> <span class="nx">description</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">env</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;jasmine.Env() required&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">suite</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;jasmine.Suite() required&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">env</span><span class="p">.</span><span class="nx">nextSpecId</span> <span class="o">?</span> <span class="nx">env</span><span class="p">.</span><span class="nx">nextSpecId</span><span class="p">()</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">env</span> <span class="o">=</span> <span class="nx">env</span><span class="p">;</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">suite</span> <span class="o">=</span> <span class="nx">suite</span><span class="p">;</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">description</span><span class="p">;</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">(</span><span class="nx">env</span><span class="p">);</span>

  <span class="nx">spec</span><span class="p">.</span><span class="nx">afterCallbacks</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">spies_</span> <span class="o">=</span> <span class="p">[];</span>

  <span class="nx">spec</span><span class="p">.</span><span class="nx">results_</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">NestedResults</span><span class="p">();</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">results_</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">description</span><span class="p">;</span>
  <span class="nx">spec</span><span class="p">.</span><span class="nx">matchersClass</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getFullName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">suite</span><span class="p">.</span><span class="nx">getFullName</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">description</span> <span class="o">+</span> <span class="s1">&#39;.&#39;</span><span class="p">;</span>
<span class="p">};</span>


<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">results</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">results_</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-113" id="section-113">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>All parameters are pretty-printed and concatenated together, then written to the spec's output.</p>
  </div>
  <div class="body"><p>Be careful not to leave calls to <code>jasmine.log</code> in production code.</p>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">log</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">results_</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">runs</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">func</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">block</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">func</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">addToQueue</span><span class="p">(</span><span class="nx">block</span><span class="p">);</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addToQueue</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">block</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">isRunning</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">insertNext</span><span class="p">(</span><span class="nx">block</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">block</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-114" id="section-114">&#182;</a>
</div>
<div class="dox">
  <div class="summary">
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">result
</span>
      <span class="dox_type">jasmine.ExpectationResult</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addMatcherResult</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">results_</span><span class="p">.</span><span class="nx">addResult</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">expect</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">actual</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">positive</span> <span class="o">=</span> <span class="k">new</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getMatchersClass_</span><span class="p">())(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">actual</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
  <span class="nx">positive</span><span class="p">.</span><span class="nx">not</span> <span class="o">=</span> <span class="k">new</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getMatchersClass_</span><span class="p">())(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">actual</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">positive</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-115" id="section-115">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Waits a fixed time period before moving to the next block.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">timeout</span>
      <span class="dox_type">Number</span>
      <span>milliseconds to wait</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">waits</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">waitsFunc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsBlock</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">addToQueue</span><span class="p">(</span><span class="nx">waitsFunc</span><span class="p">);</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-116" id="section-116">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Waits for the latchFunction to return true before proceeding to the next block.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">latchFunction</span>
      <span class="dox_type">Function</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">optional_timeoutMessage</span>
      <span class="dox_type">String</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">optional_timeout
</span>
      <span class="dox_type">Number</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">waitsFor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">latchFunction</span><span class="p">,</span> <span class="nx">optional_timeoutMessage</span><span class="p">,</span> <span class="nx">optional_timeout</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">latchFunction_</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">optional_timeoutMessage_</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">optional_timeout_</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">arg</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="k">switch</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">case</span> <span class="s1">&#39;function&#39;</span><span class="o">:</span>
        <span class="nx">latchFunction_</span> <span class="o">=</span> <span class="nx">arg</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;string&#39;</span><span class="o">:</span>
        <span class="nx">optional_timeoutMessage_</span> <span class="o">=</span> <span class="nx">arg</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="s1">&#39;number&#39;</span><span class="o">:</span>
        <span class="nx">optional_timeout_</span> <span class="o">=</span> <span class="nx">arg</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">waitsForFunc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsForBlock</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">optional_timeout_</span><span class="p">,</span> <span class="nx">latchFunction_</span><span class="p">,</span> <span class="nx">optional_timeoutMessage_</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">addToQueue</span><span class="p">(</span><span class="nx">waitsForFunc</span><span class="p">);</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fail</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">expectationResult</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">ExpectationResult</span><span class="p">({</span>
    <span class="nx">passed</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">message</span><span class="o">:</span> <span class="nx">e</span> <span class="o">?</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">formatException</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">:</span> <span class="s1">&#39;Exception&#39;</span><span class="p">,</span>
    <span class="nx">trace</span><span class="o">:</span> <span class="p">{</span> <span class="nx">stack</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">stack</span> <span class="p">}</span>
  <span class="p">});</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">results_</span><span class="p">.</span><span class="nx">addResult</span><span class="p">(</span><span class="nx">expectationResult</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getMatchersClass_</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">matchersClass</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">matchersClass</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addMatchers</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">matchersPrototype</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">parent</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getMatchersClass_</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">newMatchersClass</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">parent</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
  <span class="p">};</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">inherit</span><span class="p">(</span><span class="nx">newMatchersClass</span><span class="p">,</span> <span class="nx">parent</span><span class="p">);</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Matchers</span><span class="p">.</span><span class="nx">wrapInto_</span><span class="p">(</span><span class="nx">matchersPrototype</span><span class="p">,</span> <span class="nx">newMatchersClass</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">matchersClass</span> <span class="o">=</span> <span class="nx">newMatchersClass</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">finishCallback</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">reportSpecResults</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">finish</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">removeAllSpies</span><span class="p">();</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">finishCallback</span><span class="p">();</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">onComplete</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">after</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">doAfter</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">isRunning</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">doAfter</span><span class="p">,</span> <span class="k">this</span><span class="p">),</span> <span class="kc">true</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">afterCallbacks</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">doAfter</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">spec</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">spec</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">specFilter</span><span class="p">(</span><span class="nx">spec</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">spec</span><span class="p">.</span><span class="nx">results_</span><span class="p">.</span><span class="nx">skipped</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">spec</span><span class="p">.</span><span class="nx">finish</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">);</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">reportSpecStarting</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

  <span class="nx">spec</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">currentSpec</span> <span class="o">=</span> <span class="nx">spec</span><span class="p">;</span>

  <span class="nx">spec</span><span class="p">.</span><span class="nx">addBeforesAndAftersToQueue</span><span class="p">();</span>

  <span class="nx">spec</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">spec</span><span class="p">.</span><span class="nx">finish</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addBeforesAndAftersToQueue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">runner</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">currentRunner</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">i</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">suite</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">suite</span><span class="p">;</span> <span class="nx">suite</span><span class="p">;</span> <span class="nx">suite</span> <span class="o">=</span> <span class="nx">suite</span><span class="p">.</span><span class="nx">parentSuite</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">suite</span><span class="p">.</span><span class="nx">before_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">addBefore</span><span class="p">(</span><span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">suite</span><span class="p">.</span><span class="nx">before_</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="k">this</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">before_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">addBefore</span><span class="p">(</span><span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">before_</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="k">this</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">afterCallbacks</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">afterCallbacks</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="k">this</span><span class="p">),</span> <span class="kc">true</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">suite</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">suite</span><span class="p">;</span> <span class="nx">suite</span><span class="p">;</span> <span class="nx">suite</span> <span class="o">=</span> <span class="nx">suite</span><span class="p">.</span><span class="nx">parentSuite</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">suite</span><span class="p">.</span><span class="nx">after_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">suite</span><span class="p">.</span><span class="nx">after_</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="k">this</span><span class="p">),</span> <span class="kc">true</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">after_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">,</span> <span class="nx">runner</span><span class="p">.</span><span class="nx">after_</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="k">this</span><span class="p">),</span> <span class="kc">true</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">explodes</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">throw</span> <span class="s1">&#39;explodes function should not have been called&#39;</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">spyOn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">methodName</span><span class="p">,</span> <span class="nx">ignoreMethodDoesntExist</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span> <span class="o">==</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="s2">&quot;spyOn could not find an object to spy upon for &quot;</span> <span class="o">+</span> <span class="nx">methodName</span> <span class="o">+</span> <span class="s2">&quot;()&quot;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">ignoreMethodDoesntExist</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">methodName</span><span class="p">]</span> <span class="o">===</span> <span class="nx">jasmine</span><span class="p">.</span><span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="nx">methodName</span> <span class="o">+</span> <span class="s1">&#39;() method does not exist&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">ignoreMethodDoesntExist</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">methodName</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">methodName</span><span class="p">].</span><span class="nx">isSpy</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">methodName</span> <span class="o">+</span> <span class="s1">&#39; has already been spied upon&#39;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">var</span> <span class="nx">spyObj</span> <span class="o">=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">createSpy</span><span class="p">(</span><span class="nx">methodName</span><span class="p">);</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">spies_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">spyObj</span><span class="p">);</span>
  <span class="nx">spyObj</span><span class="p">.</span><span class="nx">baseObj</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">;</span>
  <span class="nx">spyObj</span><span class="p">.</span><span class="nx">methodName</span> <span class="o">=</span> <span class="nx">methodName</span><span class="p">;</span>
  <span class="nx">spyObj</span><span class="p">.</span><span class="nx">originalValue</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">[</span><span class="nx">methodName</span><span class="p">];</span>

  <span class="nx">obj</span><span class="p">[</span><span class="nx">methodName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">spyObj</span><span class="p">;</span>

  <span class="k">return</span> <span class="nx">spyObj</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Spec</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">removeAllSpies</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">spies_</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">spy</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">spies_</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    <span class="nx">spy</span><span class="p">.</span><span class="nx">baseObj</span><span class="p">[</span><span class="nx">spy</span><span class="p">.</span><span class="nx">methodName</span><span class="p">]</span> <span class="o">=</span> <span class="nx">spy</span><span class="p">.</span><span class="nx">originalValue</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">spies_</span> <span class="o">=</span> <span class="p">[];</span>
<span class="p">};</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-117" id="section-117">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>Internal representation of a Jasmine suite.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">env</span>
      <span class="dox_type">jasmine.Env</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">description</span>
      <span class="dox_type">String</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">specDefinitions</span>
      <span class="dox_type">Function</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">parentSuite
</span>
      <span class="dox_type">jasmine.Suite</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">,</span> <span class="nx">description</span><span class="p">,</span> <span class="nx">specDefinitions</span><span class="p">,</span> <span class="nx">parentSuite</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">env</span><span class="p">.</span><span class="nx">nextSuiteId</span> <span class="o">?</span> <span class="nx">env</span><span class="p">.</span><span class="nx">nextSuiteId</span><span class="p">()</span> <span class="o">:</span> <span class="kc">null</span><span class="p">;</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">description</span> <span class="o">=</span> <span class="nx">description</span><span class="p">;</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Queue</span><span class="p">(</span><span class="nx">env</span><span class="p">);</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">parentSuite</span> <span class="o">=</span> <span class="nx">parentSuite</span><span class="p">;</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">env</span> <span class="o">=</span> <span class="nx">env</span><span class="p">;</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">before_</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">after_</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">children_</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">suites_</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="nx">self</span><span class="p">.</span><span class="nx">specs_</span> <span class="o">=</span> <span class="p">[];</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getFullName</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">fullName</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">description</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">parentSuite</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">parentSuite</span><span class="p">;</span> <span class="nx">parentSuite</span><span class="p">;</span> <span class="nx">parentSuite</span> <span class="o">=</span> <span class="nx">parentSuite</span><span class="p">.</span><span class="nx">parentSuite</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fullName</span> <span class="o">=</span> <span class="nx">parentSuite</span><span class="p">.</span><span class="nx">description</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">fullName</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">fullName</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">finish</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">reportSuiteResults</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">finished</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">onComplete</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">beforeEach</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">beforeEachFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">beforeEachFunction</span><span class="p">.</span><span class="nx">typeName</span> <span class="o">=</span> <span class="s1">&#39;beforeEach&#39;</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">before_</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">beforeEachFunction</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">afterEach</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">afterEachFunction</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">afterEachFunction</span><span class="p">.</span><span class="nx">typeName</span> <span class="o">=</span> <span class="s1">&#39;afterEach&#39;</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">after_</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">afterEachFunction</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">results</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">results</span><span class="p">();</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">add</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">suiteOrSpec</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">children_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">suiteOrSpec</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">suiteOrSpec</span> <span class="k">instanceof</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">suiteOrSpec</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">currentRunner</span><span class="p">().</span><span class="nx">addSuite</span><span class="p">(</span><span class="nx">suiteOrSpec</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">specs_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">suiteOrSpec</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">suiteOrSpec</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">specs</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">specs_</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">suites</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">suites_</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">children</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">children_</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">Suite</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">queue</span><span class="p">.</span><span class="nx">start</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">self</span><span class="p">.</span><span class="nx">finish</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">};</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsBlock</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">,</span> <span class="nx">spec</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">timeout</span> <span class="o">=</span> <span class="nx">timeout</span><span class="p">;</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">env</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">spec</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">inherit</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsBlock</span><span class="p">,</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">);</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsBlock</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">VERBOSE</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;&gt;&gt; Jasmine waiting for &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">timeout</span> <span class="o">+</span> <span class="s1">&#39; ms...&#39;</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">onComplete</span><span class="p">();</span>
  <span class="p">},</span> <span class="k">this</span><span class="p">.</span><span class="nx">timeout</span><span class="p">);</span>
<span class="p">};</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-118" id="section-118">&#182;</a>
</div>
<div class="dox">
  <div class="summary"><p>A block which waits for some condition to become true, with timeout.</p>
  </div>
  <div class="body">
  </div>
  <div class="details">
    <div class="dox_tag_title">Params</div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">env</span>
      <span class="dox_type">jasmine.Env</span>
      <span>The Jasmine environment.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">timeout</span>
      <span class="dox_type">Number</span>
      <span>The maximum time in milliseconds to wait for the condition to become true.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">latchFunction</span>
      <span class="dox_type">Function</span>
      <span>A function which returns true when the desired condition has been met.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">message</span>
      <span class="dox_type">String</span>
      <span>The message to display if the desired condition hasn't been met within the given time period.</span>
    </div>
    <div class="dox_tag_detail">
      <span class="dox_tag_name">spec</span>
      <span class="dox_type">jasmine.Spec</span>
      <span>The Jasmine spec.</span>
    </div>
  </div>
</div>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsForBlock</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">env</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">,</span> <span class="nx">latchFunction</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">spec</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">timeout</span> <span class="o">=</span> <span class="nx">timeout</span> <span class="o">||</span> <span class="nx">env</span><span class="p">.</span><span class="nx">defaultTimeoutInterval</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">latchFunction</span> <span class="o">=</span> <span class="nx">latchFunction</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">=</span> <span class="nx">message</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">totalTimeSpentWaitingForLatch</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">env</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">spec</span><span class="p">);</span>
<span class="p">};</span>
<span class="nx">jasmine</span><span class="p">.</span><span class="nx">util</span><span class="p">.</span><span class="nx">inherit</span><span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsForBlock</span><span class="p">,</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">Block</span><span class="p">);</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsForBlock</span><span class="p">.</span><span class="nx">TIMEOUT_INCREMENT</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsForBlock</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">execute</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">jasmine</span><span class="p">.</span><span class="nx">VERBOSE</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">reporter</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;&gt;&gt; Jasmine waiting for &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="s1">&#39;something to happen&#39;</span><span class="p">));</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">latchFunctionResult</span><span class="p">;</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="nx">latchFunctionResult</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">latchFunction</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spec</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">fail</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span>
    <span class="nx">onComplete</span><span class="p">();</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">latchFunctionResult</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">onComplete</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">totalTimeSpentWaitingForLatch</span> <span class="o">&gt;=</span> <span class="k">this</span><span class="p">.</span><span class="nx">timeout</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="s1">&#39;timed out after &#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">timeout</span> <span class="o">+</span> <span class="s1">&#39; msec waiting for &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">message</span> <span class="o">||</span> <span class="s1">&#39;something to happen&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">spec</span><span class="p">.</span><span class="nx">fail</span><span class="p">({</span>
      <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;timeout&#39;</span><span class="p">,</span>
      <span class="nx">message</span><span class="o">:</span> <span class="nx">message</span>
    <span class="p">});</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">abort</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nx">onComplete</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">totalTimeSpentWaitingForLatch</span> <span class="o">+=</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsForBlock</span><span class="p">.</span><span class="nx">TIMEOUT_INCREMENT</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">self</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="nx">onComplete</span><span class="p">);</span>
    <span class="p">},</span> <span class="nx">jasmine</span><span class="p">.</span><span class="nx">WaitsForBlock</span><span class="p">.</span><span class="nx">TIMEOUT_INCREMENT</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">jasmine</span><span class="p">.</span><span class="nx">version_</span><span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;major&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;minor&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="s2">&quot;build&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">&quot;revision&quot;</span><span class="o">:</span> <span class="mi">1354556913</span>
<span class="p">};</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
